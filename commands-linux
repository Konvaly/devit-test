 === Linux навигация и поиск ===

Файловая структура

/
--/var/
----/www/
------/html/
--------/index.html
--------/404.html
--------/logs
----------/error.txt
----------/access.txt
--------/images
----------/icon.png
----------/cat.jpg
----------/dog.jpg
--------/.htaccess


Задание

Напишите набор команд с комментарием их работы которые вы примените для решения следующих задач:

1. Перейдите в папку html и выведите список всех папок(без файлов)
Из корневой папки перехожу в папку html: 
cd /var/www/html
вывожу список всех папок:
ls -d */          (показывает images/  logs/ )

2. Удалите пустые строки из файла error.txt
перехожу в папку logs (где лежит файл error.txt):
cd logs
При помощи команды sed, где флаг -i использую для воздействия в самом файле, в регулярке ^-начало строки, $ - конец строки, [:space:] - соответсвует пробельному символу, включая разрыв строки (т.к. могут быть пустые строки с пробелами и Tab) d - удалить, ecли есть пустая строка
 sed -i '/^[[:space:]]*$/d' error.txt

3. Выведите список файлов с расширением .jpg в папке images
поднимаюсь на уровень выше из папки logs, чтобы попасть в папку images 
cd ../
Для того, чтобы найти файлы с расширением .jpg в папке images использую команду find, ставлю точку(т.к. поиск именно в этой директории) с опцией name, указываю какой тип файлов нужен(.jpg):
find . -name "*.jpg"

4. Напишите bash скрипт который переименует все файлы в папке logs с .txt на .log
Создаю файл, куда запишу скрипт для переименования touch changeToJpg.sh
в файле пишу скрипт:

!# /bin/bash     //в шебанге указываю системе какой интерпретатор использовать
for file in *.txt     //выбрать все файлы с расширением .txt
do
 mv "$file" "${file%.txt}.jpg"    //переименовать на расширение .jpg
done

Делаю файл сценария исполняемым для всех: chmod 555 changeToJpg.sh 
Запускаю скрипт ./changeToJpg.sh
                
5. Модифицируйте права доступа и владельца папки images следующим образом: Пользователь www-data и группа www-data имеют чтение/запись на всю директорию и на файлы внутри директории остальные не имеют доступа к папке и файлам.
Присваиваю папке images владельца www-data и группу www-data
sudo chown www-data:www-data ./images
даю права на запись и чтение - 6 пользователю и группе, 0 - для остальных пишу нет доступа, флаг -R - рекурсивно для всех файлов в папке
sudo chmod -R 660 ./images

6. Удалите все содержимое в файле access.txt не удаляя сам файл.
Перезаписываю пустотой файл access.txt
> access.txt
Либо можно скопировать в системный файл /dev/null (пустоту):
cp /dev/null error.txt


7. Выведите список файлов в папке images размер которых более 2 мегабайт
Использую команду find с опцией size и знаком + (будет показывать больше чем заданная величина, в данном случае MB => M):
find . -size +2M
